(this.webpackJsonpnelp=this.webpackJsonpnelp||[]).push([[0],{25:function(e,t,n){},26:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),i=n(18),a=n.n(i),s=(n(25),n(20)),j=n(10),u=(n(26),n(2)),o=n(0);var b=function(e){var t=e.review,n=Object(u.g)();return Object(o.jsxs)("div",{children:[Object(o.jsxs)("p",{children:[t.content.slice(0,50),"..."]}),Object(o.jsx)("button",{onClick:function(){n.push("/reviews/".concat(t.id))},children:"Go to this review"})]})};var h=function(e){var t=e.reviews.map((function(e){return Object(o.jsx)(b,{review:e},e.id)}));return Object(o.jsx)("div",{id:"",children:t})};var l=function(e){var t=e.reviews,n=Object(u.h)(),c=Object(u.g)(),r=t.find((function(e){return e.id===parseInt(n.id)}));return r?Object(o.jsxs)("div",{children:[Object(o.jsx)("h3",{children:r.restaurant}),Object(o.jsxs)("p",{children:[r.rating," stars"]}),Object(o.jsx)("p",{children:r.content}),Object(o.jsx)("button",{onClick:function(){return c.push("/reviews/".concat(r.id,"/edit"))},children:"Edit"})]}):t.length?Object(o.jsx)(u.a,{to:"/"}):Object(o.jsx)("h2",{children:"Loading Reviews..."})},O=n(4);var d=function(e){var t=e.addReview,n=Object(c.useState)({restaurant:"",content:"",rating:0}),r=Object(j.a)(n,2),i=r[0],a=r[1];return Object(o.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(i)},children:[Object(o.jsx)("input",{type:"text",onChange:function(e){return a(Object(O.a)(Object(O.a)({},i),{},{restaurant:e.target.value}))},value:i.restaurant,placeholder:"Restaurant Name"}),Object(o.jsx)("br",{}),Object(o.jsx)("textarea",{onChange:function(e){return a(Object(O.a)(Object(O.a)({},i),{},{content:e.target.value}))},value:i.content,placeholder:"Write your review here!"}),Object(o.jsx)("br",{}),Object(o.jsx)("input",{type:"number",onChange:function(e){return a(Object(O.a)(Object(O.a)({},i),{},{rating:e.target.value}))},value:i.rating,placeholder:"Rating",max:"5",min:"0",step:"0.5"}),Object(o.jsx)("br",{}),Object(o.jsx)("input",{type:"submit",value:"Add A New Review"})]})};var v=function(e){var t=e.reviews,n=e.editReview,r=Object(u.h)();console.log(r);var i=t.find((function(e){return e.id===parseInt(r.id)})),a=Object(c.useState)({restaurant:i.restaurant,content:i.content,rating:i.rating}),s=Object(j.a)(a,2),b=s[0],h=s[1];return Object(o.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n(Object(O.a)(Object(O.a)({},b),{},{id:i.id}))},children:[Object(o.jsx)("input",{type:"text",onChange:function(e){return h(Object(O.a)(Object(O.a)({},b),{},{restaurant:e.target.value}))},value:b.restaurant,placeholder:"Restaurant Name"}),Object(o.jsx)("br",{}),Object(o.jsx)("textarea",{onChange:function(e){return h(Object(O.a)(Object(O.a)({},b),{},{content:e.target.value}))},value:b.content,placeholder:"Write your review here!"}),Object(o.jsx)("br",{}),Object(o.jsx)("input",{type:"number",onChange:function(e){return h(Object(O.a)(Object(O.a)({},b),{},{rating:e.target.value}))},value:b.rating,placeholder:"Rating",max:"5",min:"0",step:"0.5"}),Object(o.jsx)("br",{}),Object(o.jsx)("input",{type:"submit",value:"Edit This Review!"})]})},x=n(8);var p=function(e){return Object(o.jsxs)("nav",{children:[Object(o.jsx)(x.b,{to:"/",children:"All Reviews"}),Object(o.jsx)("br",{}),Object(o.jsx)(x.b,{to:"/reviews/new",children:"Create A New Review"})]})},f={"Content-Type":"application/json",Accepts:"application/json"};var w=function(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),n=t[0],r=t[1],i=Object(u.g)();return Object(c.useEffect)((function(){fetch("http://localhost:3000/reviews").then((function(e){return e.json()})).then((function(e){return r(e)}))}),[]),Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)("h1",{children:"Nelp"}),Object(o.jsx)("h3",{children:"We keep the mystery alive?"}),Object(o.jsx)(p,{}),Object(o.jsxs)(u.d,{children:[Object(o.jsx)(u.b,{exact:!0,path:"/",children:Object(o.jsx)(h,{reviews:n})}),Object(o.jsx)(u.b,{exact:!0,path:"/reviews/new",children:Object(o.jsx)(d,{addReview:function(e){fetch("http://localhost:3000/reviews",{method:"POST",headers:f,body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){r([].concat(Object(s.a)(n),[e])),i.push("/")}))}})}),Object(o.jsx)(u.b,{exact:!0,path:"/reviews/:id",children:Object(o.jsx)(l,{reviews:n})}),Object(o.jsx)(u.b,{exact:!0,path:"/reviews/:id/edit",children:Object(o.jsx)(v,{reviews:n,editReview:function(e){console.log(e),fetch("http://localhost:3000/reviews/".concat(e.id),{method:"PATCH",headers:f,body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){console.log(e),r(n.map((function(t){return e.id===t.id?e:t}))),i.push("/")}))}})})]})]})};a.a.render(Object(o.jsx)(r.a.StrictMode,{children:Object(o.jsx)(x.a,{children:Object(o.jsx)(w,{})})}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.b6be0d90.chunk.js.map